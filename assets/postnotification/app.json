{
  "name": "postnotification",
  "services": {
    "NotifyService": {
      "fields": {
        "numWorkers": "",
        "queue": "Queue",
        "storageService": "StorageService"
      },
      "services": [
        "StorageService"
      ],
      "databases": [
        "notification_queue"
      ]
    },
    "StorageService": {
      "fields": {
        "cache": "Cache"
      },
      "databases": [
        "post_db"
      ]
    },
    "UploadService": {
      "fields": {
        "queue": "Queue",
        "storageService": "StorageService"
      },
      "services": [
        "StorageService"
      ],
      "databases": [
        "notification_queue"
      ]
    }
  },
  "datastores": {
    "notification_queue": {
      "name": "notification_queue",
      "datastore": {
        "name": "notification_queue",
        "type": "Queue",
        "kind": "RabbitMQ",
        "schema": {
          "fields": [
            {
              "name": "message",
              "type": "postnotification.Message struct"
            },
            {
              "name": "post",
              "type": "postnotification.Post struct",
              "reference": {
                "name": "post",
                "type": "postnotification.Post struct"
              }
            },
            {
              "name": "post",
              "type": "postnotification.Post struct",
              "reference": {
                "name": "post",
                "type": "postnotification.Post struct"
              }
            }
          ]
        }
      }
    },
    "post_db": {
      "name": "post_db",
      "datastore": {
        "name": "post_db",
        "type": "Cache",
        "kind": "Redis",
        "schema": {
          "fields": [
            {
              "name": "postIDStr",
              "type": "string"
            },
            {
              "name": "post",
              "type": "postnotification.Post struct"
            }
          ]
        }
      }
    }
  }
}